security:
  password_hashers:
    Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface: 'auto'

  providers:
    app_user_provider:
      entity:
        class: App\Entity\Usuario
        property: email

  role_hierarchy:
    ROLE_ADMIN: ROLE_USER
    ROLE_SUPER_ADMIN: [ ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH ]

  firewalls:
    dev:
      pattern: ^/(_(profiler|wdt)|css|images|js)/
      security: false

    main:
      lazy: true
      pattern: ^/
      provider: app_user_provider
      # by default, the feature allows 5 login attempts per minute
      login_throttling: null
      form_login:
        login_path: /login
        check_path: /check
        username_parameter: _username
        password_parameter: _password
        #failure_path: /login_failure
        remember_me: true
      logout:
        path: /logout
        target: /login
      remember_me:
        secret: '%kernel.secret%'
        lifetime: 604800 # 7 d√≠as
        path: /admin

  access_control:
    #- { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    #- { path: ^/logout, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    #- { path: ^/usuario/olvidoContrasenna, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    #- { path: ^/usuario/autenticar, roles: IS_AUTHENTICATED_ANONYMOUSLY }
    - { path: ^/admin, roles: [ ROLE_ADMIN, ROLE_USER ] }
